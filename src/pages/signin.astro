---
import SignInForm from "@/components/SignInForm";
import Layout from "../layouts/Layout.astro";
import { Toaster } from "sonner";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/dashboard");
}
---

<Layout title="Sign in">
  <SignInForm client:load />
  <Toaster client:only="react" />
</Layout>
